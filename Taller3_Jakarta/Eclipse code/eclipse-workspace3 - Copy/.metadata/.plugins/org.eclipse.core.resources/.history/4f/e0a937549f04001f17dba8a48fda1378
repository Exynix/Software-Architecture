import java.util.Properties;

import javax.naming.Context;
import javax.naming.InitialContext;

import jakarta.jms.ConnectionFactory;
import jakarta.jms.Destination;
import jakarta.jms.JMSContext;
import jakarta.jms.JMSProducer;

public class EnvioCola {
	String user = "daniel";
	String pass = "123";
	String CONNECTION_FACTORY="jms/RemoteConnectionFactory";
	String DESTINATION = "jms/queue/CorreosCola";
	
	
	Properties jmdiPrpiedades = new Properties();
	jmdiPrpiedades.put(Context.INITIAL_CONTEXT_FACTORY, "org.wildfly.naming.client.WildFlyInitialContextFactory");
	jmdiPrpiedades.put(Context.PROVIDER_URL, "http-remoting://localhost:8680");
	jmdiPrpiedades.put(Context.SECURITY_PRINCIPAL, user);
	jmdiPrpiedades.put(Context.SECURITY_CREDENTIALS, pass);
	jmdiPrpiedades.put("jboss.naming.client.ejb.context", "True");
	
	InitialContext ctx = new InitialContext(jmdiPrpiedades);
	
	ConnectionFactory cf = (ConnectionFactory)ctx.lookup(CONNECTION_FACTORY);
	Destination destination = (Destination) ctx.lookup(DESTINATION);
	JMSContext context = cf.createContext(user,pass);
	JMSProducer producer = context.createProducer();
	producer.send(destination, context.createTextMessage("hola mundo"));
	context.close();
	
}
